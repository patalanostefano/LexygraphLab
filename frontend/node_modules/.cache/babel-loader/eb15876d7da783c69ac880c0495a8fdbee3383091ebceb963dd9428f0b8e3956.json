{"ast":null,"code":"import _objectSpread from\"/Users/stefano/Desktop/LexygraphLab/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/pages/Login.jsx\nimport React,{useState,useContext,useEffect}from'react';import{useNavigate}from'react-router-dom';import{ThemeContext}from'../context/ThemeContext';import{useAuth}from'../context/AuthContext';import{supabase}from'../config/supabaseClient';import'./Login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const navigate=useNavigate();const{theme}=useContext(ThemeContext);const{signIn,user,loading:authLoading}=useAuth();const isDarkTheme=theme.palette.mode==='dark';// State per il controllo delle tab\nconst[activeTab,setActiveTab]=useState('login');// State per il controllo delle notifiche\nconst[notification,setNotification]=useState({show:false,message:'',type:''});// State per i form\nconst[loginFormData,setLoginFormData]=useState({email:'',password:'',remember:false});const[registerFormData,setRegisterFormData]=useState({email:'',password:'',confirmPassword:'',termsAccepted:false});const[loading,setLoading]=useState(false);// State per i modal\nconst[showEmailConfirmModal,setShowEmailConfirmModal]=useState(false);const[resetPasswordModal,setResetPasswordModal]=useState({show:false,email:''});// Controlla se l'utente è già autenticato\nuseEffect(()=>{console.log('Login component mounted, checking auth state');const checkSession=async()=>{// Verifica session direttamente con Supabase\nconst{data:{session}}=await supabase.auth.getSession();console.log(\"Current session check:\",session);if(session){console.log(\"User already authenticated, redirecting to home\");navigate('/');}};checkSession();},[navigate]);// Applica la classe di scope quando il componente viene montato\nuseEffect(()=>{document.body.classList.add('login-page-scope');// Aggiungi dark-theme se necessario\nif(isDarkTheme){document.body.classList.add('dark-theme');}return()=>{document.body.classList.remove('login-page-scope');if(isDarkTheme){document.body.classList.remove('dark-theme');}};},[isDarkTheme]);// Funzione per mostrare notifiche\nconst showNotification=(message,type)=>{console.log(\"Notification: \".concat(type,\" - \").concat(message));setNotification({show:true,message,type});setTimeout(()=>{setNotification(prev=>_objectSpread(_objectSpread({},prev),{},{show:false}));},5000);};// Cambio tab\nconst handleTabChange=tab=>{setActiveTab(tab);setNotification({show:false,message:'',type:''});};// Funzione per gestire il login\nconst handleLogin=async e=>{e.preventDefault();setLoading(true);console.log(\"Tentativo di login con:\",loginFormData.email);try{const{email,password}=loginFormData;// Log dettagliato pre-login\nconsole.log(\"Pre-login request: sending to Supabase\",{email,passwordLength:password.length});// Chiamata diretta a Supabase per login\nconst response=await supabase.auth.signInWithPassword({email,password});const{data,error}=response;// Log dettagliato del risultato\nconsole.log(\"Risposta login completa:\",{success:!error,error:error?{message:error.message,status:error.status,name:error.name}:null,userData:data!==null&&data!==void 0&&data.user?{id:data.user.id,email:data.user.email,emailConfirmed:data.user.email_confirmed_at,lastSignIn:data.user.last_sign_in_at}:null,sessionData:data!==null&&data!==void 0&&data.session?{expiresAt:data.session.expires_at,token:data.session.access_token?\"presente\":\"mancante\"}:null});if(error)throw error;// Memorizza l'utente in localStorage per compatibilità\nlocalStorage.setItem('testUser','true');if(loginFormData.remember){localStorage.setItem('savedEmail',email);}showNotification('Accesso effettuato con successo','success');// Log prima del reindirizzamento\nconsole.log(\"Pre-redirect state:\",{pathname:window.location.pathname,user:!!data.user,session:!!data.session,localStorage:!!localStorage.getItem('testUser')});// Forza il reindirizzamento con window.location per evitare problemi\nwindow.location.href='/';}catch(error){console.error(\"Errore login completo:\",error);console.error(\"Dettagli errore:\",{message:error.message,status:error.status,name:error.name,details:error.details});showNotification(error.message||'Credenziali non valide','error');setLoading(false);}};// Funzione per gestire la registrazione\nconst handleRegister=async e=>{e.preventDefault();const{email,password,confirmPassword,termsAccepted}=registerFormData;console.log(\"Tentativo di registrazione con:\",email);if(!termsAccepted){showNotification('Per favore accetta i termini e condizioni per continuare','error');return;}if(password!==confirmPassword){showNotification('Le password non corrispondono','error');return;}setLoading(true);try{var _data$user,_data$user$identities,_data$user$identities2,_data$user$identities3;// Chiamata diretta a Supabase per registrazione\nconst{data,error}=await supabase.auth.signUp({email,password,options:{emailRedirectTo:\"\".concat(window.location.origin,\"/\")}});console.log(\"Risposta registrazione:\",{data,error});if(error)throw error;showNotification('Registrazione completata! Ti abbiamo inviato un email di conferma.','success');// Mostra il modal di conferma email\nsetShowEmailConfirmModal(true);// Se l'email non richiede conferma, imposta localStorage\nif(data!==null&&data!==void 0&&data.user&&!(data!==null&&data!==void 0&&(_data$user=data.user)!==null&&_data$user!==void 0&&(_data$user$identities=_data$user.identities)!==null&&_data$user$identities!==void 0&&(_data$user$identities2=_data$user$identities[0])!==null&&_data$user$identities2!==void 0&&(_data$user$identities3=_data$user$identities2.identity_data)!==null&&_data$user$identities3!==void 0&&_data$user$identities3.email_verified)){localStorage.setItem('testUser','true');}setTimeout(()=>{setActiveTab('login');setLoginFormData(prev=>_objectSpread(_objectSpread({},prev),{},{email}));setLoading(false);// Se non è richiesta la verifica dell'email, reindirizza\nif(data!==null&&data!==void 0&&data.user&&!(data!==null&&data!==void 0&&data.session)){showNotification('Verifica la tua email per completare la registrazione','info');}else if(data!==null&&data!==void 0&&data.session){// L'utente è già autenticato, reindirizza\nnavigate('/');}},2000);}catch(error){console.error(\"Errore registrazione:\",error);showNotification(error.message||'Errore durante la registrazione','error');setLoading(false);}};// Funzione per accesso con Google\nconst handleGoogleSignIn=async()=>{setLoading(true);console.log(\"Tentativo di login con Google\");try{const{error,data}=await supabase.auth.signInWithOAuth({provider:'google',options:{redirectTo:\"\".concat(window.location.origin,\"/\")}});console.log(\"Risposta Google auth:\",{error,data});if(error)throw error;// Non serve fare altro perché la pagina verrà reindirizzata da OAuth\n}catch(error){console.error(\"Errore Google auth:\",error);showNotification(error.message||'Errore durante il login con Google','error');setLoading(false);}};// Funzione per recupero password\nconst handleForgotPassword=async e=>{e.preventDefault();const{email}=loginFormData;console.log(\"Tentativo recupero password per:\",email);if(!email){showNotification('Inserisci la tua email per reimpostare la password','error');return;}setLoading(true);try{const{error}=await supabase.auth.resetPasswordForEmail(email,{redirectTo:\"\".concat(window.location.origin,\"/reset-password\")});if(error)throw error;showNotification('Ti abbiamo inviato un email con le istruzioni per reimpostare la password','success');// Mostra il modal di reset password\nsetResetPasswordModal({show:true,email:email});setLoading(false);}catch(error){console.error(\"Errore reset password:\",error);showNotification(error.message||'Errore durante il recupero password','error');setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-page \".concat(isDarkTheme?'dark-theme':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"decoration decoration-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"decoration decoration-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"legal-pattern\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logo-embellishment top-right\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logo-main\",children:\"VALIS\"}),/*#__PURE__*/_jsx(\"span\",{className:\"logo-embellishment bottom-left\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"logo-tagline\",children:\"by Lexygraph AI\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"tabs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tab-btn \".concat(activeTab==='login'?'active':''),onClick:()=>handleTabChange('login'),children:\"Accesso\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-btn \".concat(activeTab==='register'?'active':''),onClick:()=>handleTabChange('register'),children:\"Registrazione\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-indicator\",style:{transform:\"translateX(\".concat(activeTab==='login'?'0%':'100%',\")\")}})]}),notification.show&&/*#__PURE__*/_jsxs(\"div\",{className:\"notification \".concat(notification.type),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(notification.type==='success'?'fa-check-circle':notification.type==='info'?'fa-info-circle':'fa-exclamation-circle')}),/*#__PURE__*/_jsx(\"span\",{children:notification.message})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content \".concat(activeTab==='login'?'active':''),id:\"login-content\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"login-form\",onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"login-email\",placeholder:\" \",required:true,value:loginFormData.email,onChange:e=>setLoginFormData(_objectSpread(_objectSpread({},loginFormData),{},{email:e.target.value})),disabled:loading}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"login-email\",children:\"Indirizzo Email\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"login-password\",placeholder:\" \",required:true,value:loginFormData.password,onChange:e=>setLoginFormData(_objectSpread(_objectSpread({},loginFormData),{},{password:e.target.value})),disabled:loading}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"login-password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye password-toggle\",onClick:()=>{const input=document.getElementById('login-password');const icon=document.querySelector('#login-form .password-toggle');if(input.type==='password'){input.type='text';icon.classList.remove('fa-eye');icon.classList.add('fa-eye-slash');}else{input.type='password';icon.classList.remove('fa-eye-slash');icon.classList.add('fa-eye');}}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"remember-forgot\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"remember-me\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"remember-checkbox\",id:\"remember\",checked:loginFormData.remember,onChange:e=>setLoginFormData(_objectSpread(_objectSpread({},loginFormData),{},{remember:e.target.checked})),disabled:loading}),/*#__PURE__*/_jsx(\"div\",{className:\"custom-checkbox\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"remember-text\",children:\"Ricordami\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"forgot-link\",onClick:handleForgotPassword,disabled:loading,children:\"Password dimenticata?\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Caricamento...':'Accedi'}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-social\",onClick:handleGoogleSignIn,disabled:loading,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-google\"}),loading?'Caricamento...':'Accedi con Google']})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content \".concat(activeTab==='register'?'active':''),id:\"register-content\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"register-form\",onSubmit:handleRegister,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"register-email\",placeholder:\" \",required:true,value:registerFormData.email,onChange:e=>setRegisterFormData(_objectSpread(_objectSpread({},registerFormData),{},{email:e.target.value})),disabled:loading}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"register-email\",children:\"Indirizzo Email\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"register-password\",placeholder:\" \",required:true,value:registerFormData.password,onChange:e=>{setRegisterFormData(_objectSpread(_objectSpread({},registerFormData),{},{password:e.target.value}));// Mostra indicatore forza password\nconst passwordStrength=document.querySelector('.password-strength');if(passwordStrength){passwordStrength.style.display=e.target.value?'block':'none';}},disabled:loading}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"register-password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye password-toggle\",onClick:()=>{const input=document.getElementById('register-password');const icon=document.querySelector('#register-form .password-toggle');if(input.type==='password'){input.type='text';icon.classList.remove('fa-eye');icon.classList.add('fa-eye-slash');}else{input.type='password';icon.classList.remove('fa-eye-slash');icon.classList.add('fa-eye');}}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"password-strength\",style:{display:registerFormData.password?'block':'none'},children:/*#__PURE__*/_jsx(\"div\",{className:\"password-strength-meter\",style:{width:\"\".concat(registerFormData.password.length>8?100:registerFormData.password.length*12.5,\"%\"),backgroundColor:registerFormData.password.length<=4?'var(--error-color)':registerFormData.password.length<=8?'#ed8936':'var(--success-color)'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-help\",children:\"Usa almeno 8 caratteri con lettere, numeri e simboli\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"confirm-password\",placeholder:\" \",required:true,value:registerFormData.confirmPassword,onChange:e=>setRegisterFormData(_objectSpread(_objectSpread({},registerFormData),{},{confirmPassword:e.target.value})),disabled:loading}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"confirm-password\",children:\"Conferma Password\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye password-toggle\",onClick:()=>{const input=document.getElementById('confirm-password');const icon=input.nextElementSibling.nextElementSibling;if(input.type==='password'){input.type='text';icon.classList.remove('fa-eye');icon.classList.add('fa-eye-slash');}else{input.type='password';icon.classList.remove('fa-eye-slash');icon.classList.add('fa-eye');}}})]})}),/*#__PURE__*/_jsxs(\"label\",{className:\"terms-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"terms-accept\",required:true,checked:registerFormData.termsAccepted,onChange:e=>setRegisterFormData(_objectSpread(_objectSpread({},registerFormData),{},{termsAccepted:e.target.checked})),disabled:loading}),/*#__PURE__*/_jsx(\"div\",{className:\"terms-custom-checkbox\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"terms-text\",children:[\"Accetto i \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Termini di Servizio\"}),\" e la \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Privacy Policy\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Caricamento...':'Registrati'}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-social\",onClick:handleGoogleSignIn,disabled:loading,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-google\"}),loading?'Caricamento...':'Registrati con Google']})]})})]})]}),showEmailConfirmModal&&/*#__PURE__*/_jsx(\"div\",{className:\"email-confirm-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Controlla la tua email\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Abbiamo inviato un'email di conferma a \",/*#__PURE__*/_jsx(\"strong\",{children:registerFormData.email})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Per completare la registrazione, clicca sul link nell'email che ti abbiamo inviato.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"note\",children:\"Non vedi l'email? Controlla nella cartella spam o junk.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setShowEmailConfirmModal(false),children:\"Ho capito\"})]})}),resetPasswordModal.show&&/*#__PURE__*/_jsx(\"div\",{className:\"email-confirm-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-key\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Reset Password\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Abbiamo inviato un'email con le istruzioni per reimpostare la password a \",/*#__PURE__*/_jsx(\"strong\",{children:resetPasswordModal.email})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Segui le istruzioni nell'email per impostare una nuova password.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"note\",children:\"Non vedi l'email? Controlla nella cartella spam o junk.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>setResetPasswordModal({show:false,email:''}),children:\"Ho capito\"})]})})]});};export default Login;","map":{"version":3,"names":["React","useState","useContext","useEffect","useNavigate","ThemeContext","useAuth","supabase","jsx","_jsx","jsxs","_jsxs","Login","navigate","theme","signIn","user","loading","authLoading","isDarkTheme","palette","mode","activeTab","setActiveTab","notification","setNotification","show","message","type","loginFormData","setLoginFormData","email","password","remember","registerFormData","setRegisterFormData","confirmPassword","termsAccepted","setLoading","showEmailConfirmModal","setShowEmailConfirmModal","resetPasswordModal","setResetPasswordModal","console","log","checkSession","data","session","auth","getSession","document","body","classList","add","remove","showNotification","concat","setTimeout","prev","_objectSpread","handleTabChange","tab","handleLogin","e","preventDefault","passwordLength","length","response","signInWithPassword","error","success","status","name","userData","id","emailConfirmed","email_confirmed_at","lastSignIn","last_sign_in_at","sessionData","expiresAt","expires_at","token","access_token","localStorage","setItem","pathname","window","location","getItem","href","details","handleRegister","_data$user","_data$user$identities","_data$user$identities2","_data$user$identities3","signUp","options","emailRedirectTo","origin","identities","identity_data","email_verified","handleGoogleSignIn","signInWithOAuth","provider","redirectTo","handleForgotPassword","resetPasswordForEmail","className","children","onClick","style","transform","onSubmit","placeholder","required","value","onChange","target","disabled","htmlFor","input","getElementById","icon","querySelector","checked","passwordStrength","display","width","backgroundColor","nextElementSibling","rel"],"sources":["/Users/stefano/Desktop/LexygraphLab/frontend/src/pages/Login.jsx"],"sourcesContent":["// src/pages/Login.jsx\nimport React, { useState, useContext, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ThemeContext } from '../context/ThemeContext';\nimport { useAuth } from '../context/AuthContext';\nimport { supabase } from '../config/supabaseClient';\nimport './Login.css';\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const { theme } = useContext(ThemeContext);\n  const { signIn, user, loading: authLoading } = useAuth();\n  const isDarkTheme = theme.palette.mode === 'dark';\n  \n  // State per il controllo delle tab\n  const [activeTab, setActiveTab] = useState('login');\n  // State per il controllo delle notifiche\n  const [notification, setNotification] = useState({ show: false, message: '', type: '' });\n  // State per i form\n  const [loginFormData, setLoginFormData] = useState({ \n    email: '', \n    password: '', \n    remember: false \n  });\n  const [registerFormData, setRegisterFormData] = useState({ \n    email: '', \n    password: '', \n    confirmPassword: '', \n    termsAccepted: false \n  });\n  const [loading, setLoading] = useState(false);\n  \n  // State per i modal\n  const [showEmailConfirmModal, setShowEmailConfirmModal] = useState(false);\n  const [resetPasswordModal, setResetPasswordModal] = useState({\n    show: false,\n    email: ''\n  });\n  \n  // Controlla se l'utente è già autenticato\n  useEffect(() => {\n    console.log('Login component mounted, checking auth state');\n    \n    const checkSession = async () => {\n      // Verifica session direttamente con Supabase\n      const { data: { session } } = await supabase.auth.getSession();\n      console.log(\"Current session check:\", session);\n      \n      if (session) {\n        console.log(\"User already authenticated, redirecting to home\");\n        navigate('/');\n      }\n    };\n    \n    checkSession();\n  }, [navigate]);\n  \n  // Applica la classe di scope quando il componente viene montato\n  useEffect(() => {\n    document.body.classList.add('login-page-scope');\n    \n    // Aggiungi dark-theme se necessario\n    if (isDarkTheme) {\n      document.body.classList.add('dark-theme');\n    }\n    \n    return () => {\n      document.body.classList.remove('login-page-scope');\n      if (isDarkTheme) {\n        document.body.classList.remove('dark-theme');\n      }\n    };\n  }, [isDarkTheme]);\n  \n  // Funzione per mostrare notifiche\n  const showNotification = (message, type) => {\n    console.log(`Notification: ${type} - ${message}`);\n    setNotification({ show: true, message, type });\n    \n    setTimeout(() => {\n      setNotification(prev => ({ ...prev, show: false }));\n    }, 5000);\n  };\n  \n  // Cambio tab\n  const handleTabChange = (tab) => {\n    setActiveTab(tab);\n    setNotification({ show: false, message: '', type: '' });\n  };\n  \n  // Funzione per gestire il login\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    console.log(\"Tentativo di login con:\", loginFormData.email);\n    \n    try {\n      const { email, password } = loginFormData;\n      \n      // Log dettagliato pre-login\n      console.log(\"Pre-login request: sending to Supabase\", { \n        email, \n        passwordLength: password.length \n      });\n      \n      // Chiamata diretta a Supabase per login\n      const response = await supabase.auth.signInWithPassword({\n        email,\n        password\n      });\n      \n      const { data, error } = response;\n\n      // Log dettagliato del risultato\n      console.log(\"Risposta login completa:\", {\n        success: !error,\n        error: error ? {\n          message: error.message,\n          status: error.status,\n          name: error.name\n        } : null,\n        userData: data?.user ? {\n          id: data.user.id,\n          email: data.user.email,\n          emailConfirmed: data.user.email_confirmed_at,\n          lastSignIn: data.user.last_sign_in_at\n        } : null,\n        sessionData: data?.session ? {\n          expiresAt: data.session.expires_at,\n          token: data.session.access_token ? \"presente\" : \"mancante\"\n        } : null\n      });\n\n      if (error) throw error;\n      \n      // Memorizza l'utente in localStorage per compatibilità\n      localStorage.setItem('testUser', 'true');\n      if (loginFormData.remember) {\n        localStorage.setItem('savedEmail', email);\n      }\n\n      showNotification('Accesso effettuato con successo', 'success');\n      \n      // Log prima del reindirizzamento\n      console.log(\"Pre-redirect state:\", {\n        pathname: window.location.pathname,\n        user: !!data.user,\n        session: !!data.session,\n        localStorage: !!localStorage.getItem('testUser')\n      });\n      \n      // Forza il reindirizzamento con window.location per evitare problemi\n      window.location.href = '/';\n      \n    } catch (error) {\n      console.error(\"Errore login completo:\", error);\n      console.error(\"Dettagli errore:\", {\n        message: error.message,\n        status: error.status,\n        name: error.name,\n        details: error.details\n      });\n      showNotification(error.message || 'Credenziali non valide', 'error');\n      setLoading(false);\n    }\n  };\n  \n  // Funzione per gestire la registrazione\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    \n    const { email, password, confirmPassword, termsAccepted } = registerFormData;\n    console.log(\"Tentativo di registrazione con:\", email);\n    \n    if (!termsAccepted) {\n      showNotification('Per favore accetta i termini e condizioni per continuare', 'error');\n      return;\n    }\n    \n    if (password !== confirmPassword) {\n      showNotification('Le password non corrispondono', 'error');\n      return;\n    }\n\n    setLoading(true);\n    \n    try {\n      // Chiamata diretta a Supabase per registrazione\n      const { data, error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n          emailRedirectTo: `${window.location.origin}/`\n        }\n      });\n\n      console.log(\"Risposta registrazione:\", { data, error });\n\n      if (error) throw error;\n\n      showNotification(\n        'Registrazione completata! Ti abbiamo inviato un email di conferma.', \n        'success'\n      );\n      \n      // Mostra il modal di conferma email\n      setShowEmailConfirmModal(true);\n      \n      // Se l'email non richiede conferma, imposta localStorage\n      if (data?.user && !data?.user?.identities?.[0]?.identity_data?.email_verified) {\n        localStorage.setItem('testUser', 'true');\n      }\n      \n      setTimeout(() => {\n        setActiveTab('login');\n        setLoginFormData(prev => ({ ...prev, email }));\n        setLoading(false);\n        \n        // Se non è richiesta la verifica dell'email, reindirizza\n        if (data?.user && !data?.session) {\n          showNotification('Verifica la tua email per completare la registrazione', 'info');\n        } else if (data?.session) {\n          // L'utente è già autenticato, reindirizza\n          navigate('/');\n        }\n      }, 2000);\n    } catch (error) {\n      console.error(\"Errore registrazione:\", error);\n      showNotification(error.message || 'Errore durante la registrazione', 'error');\n      setLoading(false);\n    }\n  };\n  \n  // Funzione per accesso con Google\n  const handleGoogleSignIn = async () => {\n    setLoading(true);\n    console.log(\"Tentativo di login con Google\");\n    \n    try {\n      const { error, data } = await supabase.auth.signInWithOAuth({\n        provider: 'google',\n        options: {\n          redirectTo: `${window.location.origin}/`\n        }\n      });\n\n      console.log(\"Risposta Google auth:\", { error, data });\n\n      if (error) throw error;\n      \n      // Non serve fare altro perché la pagina verrà reindirizzata da OAuth\n    } catch (error) {\n      console.error(\"Errore Google auth:\", error);\n      showNotification(error.message || 'Errore durante il login con Google', 'error');\n      setLoading(false);\n    }\n  };\n  \n  // Funzione per recupero password\n  const handleForgotPassword = async (e) => {\n    e.preventDefault();\n    const { email } = loginFormData;\n    console.log(\"Tentativo recupero password per:\", email);\n\n    if (!email) {\n      showNotification('Inserisci la tua email per reimpostare la password', 'error');\n      return;\n    }\n    \n    setLoading(true);\n\n    try {\n      const { error } = await supabase.auth.resetPasswordForEmail(email, {\n        redirectTo: `${window.location.origin}/reset-password`\n      });\n\n      if (error) throw error;\n\n      showNotification(\n        'Ti abbiamo inviato un email con le istruzioni per reimpostare la password', \n        'success'\n      );\n      \n      // Mostra il modal di reset password\n      setResetPasswordModal({\n        show: true,\n        email: email\n      });\n      \n      setLoading(false);\n    } catch (error) {\n      console.error(\"Errore reset password:\", error);\n      showNotification(error.message || 'Errore durante il recupero password', 'error');\n      setLoading(false);\n    }\n  };\n  \n  return (\n    <div className={`auth-page ${isDarkTheme ? 'dark-theme' : ''}`}>\n      {/* Decorative elements */}\n      <div className=\"decoration decoration-1\"></div>\n      <div className=\"decoration decoration-2\"></div>\n      <div className=\"legal-pattern\"></div>\n      \n      <div className=\"auth-layout\">\n        {/* Logo */}\n        <div className=\"logo-container\">\n          <div className=\"logo\">\n            <span className=\"logo-embellishment top-right\"></span>\n            <div className=\"logo-main\">VALIS</div>\n            <span className=\"logo-embellishment bottom-left\"></span>\n          </div>\n          <div className=\"logo-tagline\">by Lexygraph AI</div>\n        </div>\n        \n        {/* Main Authentication Container */}\n        <div className=\"auth-container\">\n          {/* Overlay di caricamento */}\n          {loading && (\n            <div className=\"loading-overlay\">\n              <div className=\"loading-spinner\"></div>\n            </div>\n          )}\n          \n          <div className=\"tabs\">\n            <div \n              className={`tab-btn ${activeTab === 'login' ? 'active' : ''}`} \n              onClick={() => handleTabChange('login')}\n            >\n              Accesso\n            </div>\n            <div \n              className={`tab-btn ${activeTab === 'register' ? 'active' : ''}`} \n              onClick={() => handleTabChange('register')}\n            >\n              Registrazione\n            </div>\n            <div \n              className=\"tab-indicator\" \n              style={{ transform: `translateX(${activeTab === 'login' ? '0%' : '100%'})` }}\n            ></div>\n          </div>\n          \n          {notification.show && (\n            <div className={`notification ${notification.type}`}>\n              <i className={`fas ${notification.type === 'success' ? 'fa-check-circle' : notification.type === 'info' ? 'fa-info-circle' : 'fa-exclamation-circle'}`}></i>\n              <span>{notification.message}</span>\n            </div>\n          )}\n          \n          {/* Login Form */}\n          <div className={`tab-content ${activeTab === 'login' ? 'active' : ''}`} id=\"login-content\">\n            <form id=\"login-form\" onSubmit={handleLogin}>\n              <div className=\"form-group\">\n                <div className=\"input-container\">\n                  <input \n                    type=\"email\" \n                    className=\"form-control\" \n                    id=\"login-email\" \n                    placeholder=\" \" \n                    required\n                    value={loginFormData.email}\n                    onChange={e => setLoginFormData({...loginFormData, email: e.target.value})}\n                    disabled={loading}\n                  />\n                  <label className=\"form-label\" htmlFor=\"login-email\">Indirizzo Email</label>\n                </div>\n              </div>\n              \n              <div className=\"form-group\">\n                <div className=\"input-container\">\n                  <input \n                    type=\"password\" \n                    className=\"form-control\" \n                    id=\"login-password\" \n                    placeholder=\" \" \n                    required\n                    value={loginFormData.password}\n                    onChange={e => setLoginFormData({...loginFormData, password: e.target.value})}\n                    disabled={loading}\n                  />\n                  <label className=\"form-label\" htmlFor=\"login-password\">Password</label>\n                  <i \n                    className=\"fas fa-eye password-toggle\"\n                    onClick={() => {\n                      const input = document.getElementById('login-password');\n                      const icon = document.querySelector('#login-form .password-toggle');\n                      if (input.type === 'password') {\n                        input.type = 'text';\n                        icon.classList.remove('fa-eye');\n                        icon.classList.add('fa-eye-slash');\n                      } else {\n                        input.type = 'password';\n                        icon.classList.remove('fa-eye-slash');\n                        icon.classList.add('fa-eye');\n                      }\n                    }}\n                  ></i>\n                </div>\n              </div>\n              \n              <div className=\"remember-forgot\">\n                <label className=\"remember-me\">\n                  <input \n                    type=\"checkbox\" \n                    className=\"remember-checkbox\" \n                    id=\"remember\"\n                    checked={loginFormData.remember}\n                    onChange={e => setLoginFormData({...loginFormData, remember: e.target.checked})}\n                    disabled={loading}\n                  />\n                  <div className=\"custom-checkbox\">\n                    <i className=\"fas fa-check\"></i>\n                  </div>\n                  <span className=\"remember-text\">Ricordami</span>\n                </label>\n                \n                <button\n                  type=\"button\"\n                  className=\"forgot-link\" \n                  onClick={handleForgotPassword}\n                  disabled={loading}\n                >\n                  Password dimenticata?\n                </button>\n              </div>\n              \n              <button \n                type=\"submit\" \n                className=\"btn btn-primary\"\n                disabled={loading}\n              >\n                {loading ? 'Caricamento...' : 'Accedi'}\n              </button>\n              \n              <button \n                type=\"button\" \n                className=\"btn btn-social\" \n                onClick={handleGoogleSignIn}\n                disabled={loading}\n              >\n                <i className=\"fab fa-google\"></i>\n                {loading ? 'Caricamento...' : 'Accedi con Google'}\n              </button>\n            </form>\n          </div>\n          \n          {/* Register Form */}\n          <div className={`tab-content ${activeTab === 'register' ? 'active' : ''}`} id=\"register-content\">\n            <form id=\"register-form\" onSubmit={handleRegister}>\n              <div className=\"form-group\">\n                <div className=\"input-container\">\n                  <input \n                    type=\"email\" \n                    className=\"form-control\" \n                    id=\"register-email\" \n                    placeholder=\" \" \n                    required\n                    value={registerFormData.email}\n                    onChange={e => setRegisterFormData({...registerFormData, email: e.target.value})}\n                    disabled={loading}\n                  />\n                  <label className=\"form-label\" htmlFor=\"register-email\">Indirizzo Email</label>\n                </div>\n              </div>\n              \n              <div className=\"form-group\">\n                <div className=\"input-container\">\n                  <input \n                    type=\"password\" \n                    className=\"form-control\" \n                    id=\"register-password\" \n                    placeholder=\" \" \n                    required\n                    value={registerFormData.password}\n                    onChange={e => {\n                      setRegisterFormData({...registerFormData, password: e.target.value});\n                      \n                      // Mostra indicatore forza password\n                      const passwordStrength = document.querySelector('.password-strength');\n                      if (passwordStrength) {\n                        passwordStrength.style.display = e.target.value ? 'block' : 'none';\n                      }\n                    }}\n                    disabled={loading}\n                  />\n                  <label className=\"form-label\" htmlFor=\"register-password\">Password</label>\n                  <i \n                    className=\"fas fa-eye password-toggle\"\n                    onClick={() => {\n                      const input = document.getElementById('register-password');\n                      const icon = document.querySelector('#register-form .password-toggle');\n                      if (input.type === 'password') {\n                        input.type = 'text';\n                        icon.classList.remove('fa-eye');\n                        icon.classList.add('fa-eye-slash');\n                      } else {\n                        input.type = 'password';\n                        icon.classList.remove('fa-eye-slash');\n                        icon.classList.add('fa-eye');\n                      }\n                    }}\n                  ></i>\n                </div>\n                <div className=\"password-strength\" style={{ display: registerFormData.password ? 'block' : 'none' }}>\n                  <div \n                    className=\"password-strength-meter\" \n                    style={{ \n                      width: `${registerFormData.password.length > 8 ? 100 : registerFormData.password.length * 12.5}%`,\n                      backgroundColor: registerFormData.password.length <= 4 ? 'var(--error-color)' : \n                                        registerFormData.password.length <= 8 ? '#ed8936' : 'var(--success-color)'\n                    }}\n                  ></div>\n                </div>\n                <div className=\"form-help\">Usa almeno 8 caratteri con lettere, numeri e simboli</div>\n              </div>\n              \n              <div className=\"form-group\">\n                <div className=\"input-container\">\n                  <input \n                    type=\"password\" \n                    className=\"form-control\" \n                    id=\"confirm-password\" \n                    placeholder=\" \" \n                    required\n                    value={registerFormData.confirmPassword}\n                    onChange={e => setRegisterFormData({...registerFormData, confirmPassword: e.target.value})}\n                    disabled={loading}\n                  />\n                  <label className=\"form-label\" htmlFor=\"confirm-password\">Conferma Password</label>\n                  <i \n                    className=\"fas fa-eye password-toggle\"\n                    onClick={() => {\n                      const input = document.getElementById('confirm-password');\n                      const icon = input.nextElementSibling.nextElementSibling;\n                      if (input.type === 'password') {\n                        input.type = 'text';\n                        icon.classList.remove('fa-eye');\n                        icon.classList.add('fa-eye-slash');\n                      } else {\n                        input.type = 'password';\n                        icon.classList.remove('fa-eye-slash');\n                        icon.classList.add('fa-eye');\n                      }\n                    }}\n                  ></i>\n                </div>\n              </div>\n              \n              <label className=\"terms-checkbox\">\n                <input \n                  type=\"checkbox\" \n                  id=\"terms-accept\" \n                  required\n                  checked={registerFormData.termsAccepted}\n                  onChange={e => setRegisterFormData({...registerFormData, termsAccepted: e.target.checked})}\n                  disabled={loading}\n                />\n                <div className=\"terms-custom-checkbox\">\n                  <i className=\"fas fa-check\"></i>\n                </div>\n                <span className=\"terms-text\">\n                  Accetto i <a href=\"#\" target=\"_blank\" rel=\"noopener noreferrer\">Termini di Servizio</a> e la <a href=\"#\" target=\"_blank\" rel=\"noopener noreferrer\">Privacy Policy</a> \n                </span>\n              </label>\n              \n              <button \n                type=\"submit\" \n                className=\"btn btn-primary\"\n                disabled={loading}\n              >\n                {loading ? 'Caricamento...' : 'Registrati'}\n              </button>\n              \n              <button \n                type=\"button\" \n                className=\"btn btn-social\" \n                onClick={handleGoogleSignIn}\n                disabled={loading}\n              >\n                <i className=\"fab fa-google\"></i>\n                {loading ? 'Caricamento...' : 'Registrati con Google'}\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n\n      {/* Modal di conferma email */}\n      {showEmailConfirmModal && (\n        <div className=\"email-confirm-modal\">\n          <div className=\"modal-content\">\n            <div className=\"modal-icon\">\n              <i className=\"fas fa-envelope\"></i>\n            </div>\n            <h3>Controlla la tua email</h3>\n            <p>Abbiamo inviato un'email di conferma a <strong>{registerFormData.email}</strong></p>\n            <p>Per completare la registrazione, clicca sul link nell'email che ti abbiamo inviato.</p>\n            <p className=\"note\">Non vedi l'email? Controlla nella cartella spam o junk.</p>\n            <button \n              className=\"btn btn-primary\"\n              onClick={() => setShowEmailConfirmModal(false)}\n            >\n              Ho capito\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Modal di reset password */}\n      {resetPasswordModal.show && (\n        <div className=\"email-confirm-modal\">\n          <div className=\"modal-content\">\n            <div className=\"modal-icon\">\n              <i className=\"fas fa-key\"></i>\n            </div>\n            <h3>Reset Password</h3>\n            <p>Abbiamo inviato un'email con le istruzioni per reimpostare la password a <strong>{resetPasswordModal.email}</strong></p>\n            <p>Segui le istruzioni nell'email per impostare una nuova password.</p>\n            <p className=\"note\">Non vedi l'email? Controlla nella cartella spam o junk.</p>\n            <button \n              className=\"btn btn-primary\"\n              onClick={() => setResetPasswordModal({show: false, email: ''})}\n            >\n              Ho capito\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}